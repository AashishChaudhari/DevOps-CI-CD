<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Click the Emoji Game!</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap');

  body {
    font-family: 'Fredoka One', cursive;
    text-align: center;
    background: linear-gradient(135deg, #f6d365, #fda085);
    color: #333;
    padding: 20px;
    margin: 0;
    overflow-x: hidden;
  }
  h1 { 
    color: #ff3b2e; 
    text-shadow: 2px 2px #fff;
    font-size: 2em;
    margin-bottom: 15px;
  }
  #game-area {
    position: relative;
    width: 95vw;
    max-width: 600px;
    height: 50vh;
    margin: 15px auto;
    border-radius: 20px;
    background: linear-gradient(135deg, #89f7fe, #66a6ff);
    box-shadow: 0 12px 20px rgba(0,0,0,0.3);
    overflow: hidden;
  }
  .emoji {
    position: absolute;
    font-size: 2.5em;
    cursor: pointer;
    transition: transform 0.15s ease, top 0.2s ease, left 0.2s ease;
    user-select: none;
  }
  .emoji:active { transform: scale(1.5) rotate(20deg); }
  #scoreboard, #highscore {
    font-size: 1.3em;
    margin-top: 15px;
    background: rgba(255,255,255,0.8);
    display: inline-block;
    padding: 10px 20px;
    border-radius: 15px;
    box-shadow: 0 6px 12px rgba(0,0,0,0.3);
    margin-right: 10px;
  }
  select {
    margin-top: 15px;
    padding: 8px 15px;
    font-size: 1em;
    border-radius: 10px;
    border: none;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    cursor: pointer;
  }
  button {
    margin-top: 15px;
    padding: 12px 25px;
    font-size: 1em;
    cursor: pointer;
    border: none;
    border-radius: 12px;
    background: linear-gradient(135deg, #ff758c, #ff7eb3);
    color: white;
    box-shadow: 0 6px 15px rgba(0,0,0,0.3);
    transition: transform 0.15s, background 0.2s;
  }
  button:hover { background: linear-gradient(135deg, #ff3b2e, #ff6b6b); transform: scale(1.05); }
  button:disabled { background: #ccc; cursor: not-allowed; }
  #credit {
    margin-top: 20px;
    font-size: 1em;
    color: #fff;
    text-shadow: 1px 1px #333;
  }

  @media (max-width: 400px) {
    .emoji { font-size: 2em; }
    h1 { font-size: 1.6em; }
    #scoreboard, #highscore { font-size: 1.1em; padding: 8px 16px; margin: 5px; }
    button, select { font-size: 0.9em; padding: 10px 20px; }
  }
</style>
</head>
<body>
<h1>🎯 Click the Emoji!</h1>
<div id="game-area"></div>
<div>
  <span id="scoreboard">Score: 0</span>
  <span id="highscore">High Score: 0</span>
</div>
<br>
<select id="difficulty">
  <option value="easy">Easy</option>
  <option value="medium" selected>Medium</option>
  <option value="hard">Hard</option>
</select>
<br>
<button id="start-btn" onclick="startGame()">Start Game</button>
<div id="credit">Made by Aashish Chaudhari</div>

<script>
let score = 0;
let time = 30;
let highScore = 0;
let gameInterval, timerInterval;
let gameActive = false;
let spawnSpeed = 700; // milliseconds
let emojiLife = 1500; // milliseconds

const gameArea = document.getElementById('game-area');
const scoreboard = document.getElementById('scoreboard');
const highscoreDisplay = document.getElementById('highscore');
const startBtn = document.getElementById('start-btn');
const difficultySelect = document.getElementById('difficulty');
const emojis = ['😎','😂','🎉','🔥','🍕','🐱','💎','⚡','🎈','👾','🚀','🍔','🦄','✨'];

function randomPosition() {
  const x = Math.random() * (gameArea.clientWidth - 50);
  const y = Math.random() * (gameArea.clientHeight - 50);
  return {x, y};
}

function spawnEmoji() {
  if(!gameActive) return;
  const emoji = document.createElement('div');
  emoji.classList.add('emoji');
  emoji.innerText = emojis[Math.floor(Math.random() * emojis.length)];
  const pos = randomPosition();
  emoji.style.left = pos.x + 'px';
  emoji.style.top = pos.y + 'px';
  emoji.onclick = () => {
    score++;
    gameArea.removeChild(emoji);
    updateScore();
    spawnEmoji();
  };
  gameArea.appendChild(emoji);

  const moveInterval = setInterval(() => {
    if(!gameArea.contains(emoji)) { clearInterval(moveInterval); return; }
    const newPos = randomPosition();
    emoji.style.left = newPos.x + 'px';
    emoji.style.top = newPos.y + 'px';
  }, 1000);

  setTimeout(() => { 
    if (gameArea.contains(emoji)) gameArea.removeChild(emoji); 
    clearInterval(moveInterval);
  }, emojiLife);
}

function updateScore() {
  scoreboard.innerText = `Score: ${score}`;
  if(score > highScore) {
    highScore = score;
    highscoreDisplay.innerText = `High Score: ${highScore}`;
  }
}

function setDifficulty() {
  const diff = difficultySelect.value;
  if(diff === 'easy') { spawnSpeed = 1000; emojiLife = 1800; }
  else if(diff === 'medium') { spawnSpeed = 700; emojiLife = 1500; }
  else if(diff === 'hard') { spawnSpeed = 400; emojiLife = 1000; }
}

function startGame() {
  if(gameActive) return;
  setDifficulty();
  gameActive = true;
  startBtn.disabled = true;
  score = 0;
  time = 30;
  updateScore();
  gameArea.innerHTML = '';
  spawnEmoji();
  gameInterval = setInterval(spawnEmoji, spawnSpeed);
  timerInterval = setInterval(() => {
    time--;
    if(time <= 0) endGame();
  }, 1000);
}

function endGame() {
  gameActive = false;
  clearInterval(gameInterval);
  clearInterval(timerInterval);
  alert(`⏰ Time's up! Your score: ${score} 🎉`);
  gameArea.innerHTML = '';
  startBtn.disabled = false;
}
</script>
</body>
</html>
